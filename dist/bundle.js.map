{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://react-fiber/./src/react/CreateElement/index.js","webpack://react-fiber/./src/react/Misc/CreateTaskQueue/index.js","webpack://react-fiber/./src/react/index.js","webpack://react-fiber/./src/react/reconciliation/index.js","webpack://react-fiber/webpack/bootstrap","webpack://react-fiber/webpack/runtime/define property getters","webpack://react-fiber/webpack/runtime/hasOwnProperty shorthand","webpack://react-fiber/webpack/runtime/make namespace object","webpack://react-fiber/./src/index.js"],"sourcesContent":["export default function createElement (type, props, ...children ){\n    const childElements = [].concat(...children).reduce((result, child)=>{\n        if(child !== false && child!== true && child!== null){\n            if(child instanceof Object) {\n                result.push(child) \n            }else{\n                result.push(createElement(\"text\", {textContent:child}))  \n            }\n        }\n        return result\n    },[])\n\n    return {\n        type,\n        props: Object.assign({children:childElements},props)\n    }\n}","const createTaskQueue = ()=> {\n    const TaskQueue = []\n    return {\n        push: item => TaskQueue.push(item),\n        pop: ()=> TaskQueue.shift(),\n        isEmpty: ()=> TaskQueue.length === 0\n    }\n}\n\nexport default createTaskQueue","import createElement from \"./CreateElement\"\nexport {render} from \"./reconciliation\"\nexport default {\n    createElement,\n}","import {createTaskQueue} from \"../Misc\"\n\nconst taskQueue = createTaskQueue()\nlet subTask = null\n\nexport const render = (elemment, dom)=> {\n    //1. add task to task queue\n        // task: create fiber object using virtualDOM object\n        // task queue: [task, task ....]\n    //2. execute task when idle\n\n    // find all virtualDOM and use that to create fiber object, \n    // therefore, we need parent and child\n    taskQueue.push({\n        dom,  // parent \n        props: {children: elemment} // child\n    })\n    requestIdleCallback(performTask)\n}\n\n\nconst performTask = (deadline) => {\n    workLoop(deadline)\n\n    if(subTask || !taskQueue.isEmpty()){\n        requestIdleCallback(performTask)\n    }\n}\nconst workLoop = deadline => {\n    if(!subTask){\n        subTask = getFirstTask()\n        console.log(subTask)\n    }\n    while( subTask && deadline.timeRemaining()>1){\n       subTask =  executeTask(subTask)\n    }\n}\nconst getFirstTask = () => {\n    const task = taskQueue.pop()\n    console.log(task)\n    // return fiber object of outter node\n    return {\n        props: task.props,\n        stateNode: task.dom,\n        tag: \"host_root\",\n        effects: [],\n        child: null\n    }\n}\nconst executeTask = fiber => {}\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, {render} from \"./react\"\n\nconst root = document.getElementById(\"root\")\nconst jsx = (\n    <div>\n        <p>React Fiber</p>\n    </div>\n)\n\nrender(jsx, root)\n"],"names":["createElement","type","props","_ref","_len","arguments","length","children","Array","_key","childElements","concat","apply","reduce","result","child","Object","push","textContent","assign","createTaskQueue","TaskQueue","item","pop","shift","isEmpty","render","taskQueue","subTask","elemment","dom","requestIdleCallback","performTask","deadline","workLoop","getFirstTask","console","log","timeRemaining","executeTask","task","stateNode","tag","effects","fiber","React","root","document","getElementById","jsx"],"sourceRoot":""}